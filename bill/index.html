<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    
	<link rel="canonical" href="emeow.org/bill/">
	<meta name="robots" content="index, follow">
    <link rel="shortcut icon" type="image/png" href="../favicon.png">
    
	<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css?5456">
	<link rel="stylesheet" type="text/css" href="../style.css?5762">
	<link rel="stylesheet" type="text/css" href="../css/animate.min.css?1736">
	<link rel="stylesheet" type="text/css" href="../css/all.min.css">
	<link href='https://fonts.googleapis.com/css?family=Lobster&display=swap&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Roboto+Slab:700,40&display=swap&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <title>Bill</title>
</head>
<body data-clean-url="true">

<div id="page-loading-blocs-notifaction" class="page-preloader"></div>
<div class="page-container">
    
<div class="bloc bloc-fill-screen bg-johan-mouchet-Z95viY3WaZs-unsplash-281-29 d-bloc bloc-bg-texture texture-darken" id="bloc-2">
	<div class="container fill-bloc-top-edge">
		<div class="row">
			<div class="col-12">
				<div class="row">
					<div class="col-12">
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="row">
			<div class="col animated fadeIn" data-appear-anim-style="fadeIn">
				<picture><source type="image/webp" srcset="../img/lazyload-ph.png" data-srcset="../img/20231219_1306112.webp"><img src="../img/lazyload-ph.png" data-src="../img/20231219_1306112.jpg" class="img-fluid rounded-circle mx-auto d-block img-protected img-style ps-lg-0 animated bounce animLoop02 animDelay1 lazyload" data-appear-anim-style="bounce" alt="20231219_130611" width="200" height="200"></picture>
				<h3 class="mg-md text-center tc-3849 h3-style text-sm-center mx-auto d-block">
					Momo Bill Catculator<br>
				</h3>
				<h2 class="mb-4 text-lg-center h2-style text-sm-center text-center mx-auto d-block">
					Momo will help you split the bill if you let her know how much human things cost
				</h2>
				<div class="row">
					<div class="col text-lg-end mt-lg-1 text-md-end text-sm-end text-end d-sm-block d-none">
						<a href="#" class="btn btn-lg btn-c-3849 float-lg-end float-end" data-scroll-speed="1000" onclick="scrollToTarget('0',this)"><span class="icon-spacer fa fa-chevron-circle-down icon-802"></span>Get Started</a>
					</div>
					<div class="col text-start">
						<div class="text-center mt-lg-1 text-lg-start text-md-start text-sm-start">
							<a href="../" class="btn btn-lg btn-c-802 float-none d-sm-inline-block d-none"><span class="icon-spacer none fa fa-home icon-1722"></span>Go Home</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="container fill-bloc-bottom-edge">
		<div class="row">
			<div class="col-12">
				<div class="text-center">
					<a href="#" data-scroll-speed="1000" onclick="scrollToTarget('0',this)"><span class="fa fa-angle-down icon-md animated bounce animDelay08"></span></a>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="bloc l-bloc full-width-bloc" id="bloc-2-1">
	<div class="container bloc-no-padding">
		<div class="row">
			<div class="col-12 bgc-2190 text-center text-lg-start">
				<div class=" animated vanishIn none animDelay06 animSpeedLazy " data-appear-anim-style="vanishIn">
					<meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    
    <link rel="stylesheet" href="https://pyscript.net/releases/2025.7.2/core.css">
    <script type="module" src="https://pyscript.net/releases/2025.7.2/core.js"></script>

    <style>
        .tooltip.is-tooltip-multiline::before { white-space:pre-line }
    </style>

    <div id="div1" class="container bloc-no-padding-lg">
        <div class="section">
            <div class="box">
                <progress id="progress" class="progress is-info" value="0" max="100"></progress>

                <div id="div_total" class="field">
                    <label class="label">Enter bill subtotal (amount before tax)</label>
                    <div class="field has-addons">
                        <div class="control">
                            <input id="i_total" class="input" type="text" placeholder="e.g., 100">
                        </div>
                        <div class="control">
                            <button id="submit_total" class="button is-info" type="submit" py-click="calc_tips">Apply</button>
                        </div>
                    </div>
                    <p id="field_tips" class="help" style="white-space: pre-line"></p>
                </div>

                <div id="div_tip" style="display:none;" class="field">
                    <label class="label">Enter tip</label>
                    <div class="field has-addons">
                        <div class="control">
                            <input id="i_tip" class="input" type="text" placeholder="e.g., 10">
                        </div>
                        <div class="control">
                            <button id="submit_tip" class="button is-info" type="submit" py-click="calc_total_w_tip">Apply</button>
                        </div>
                    </div>
                    <p id="field_total_w_tip" class="help"></p>
                </div>

                <div id="div_discount" style="display:none;" class="field">
                    <label class="label">Enter discount</label>
                    <div class="field has-addons">
                        <div class="control">
                            <input id="i_discount" class="input" type="text" value="0">
                        </div>
                        <div class="control">
                            <button id="submit_discount" class="button is-info" type="submit" py-click="calc_total_w_tip_discount">Apply</button>
                        </div>
                    </div>
                    <p id="field_total_w_tip_discount" class="help"></p>
                </div>

                <div id="div_tax" style="display:none;" class="field">
                    <label class="label">Enter tax in percentage</label>
                    <div class="field has-addons">
                        <div class="control">
                            <input id="i_tax" class="input" type="text" value="8.25">
                        </div>
                        <div class="control">
                            <button id="submit_tax" class="button is-info" type="submit" py-click="calc_total_w_tip_discount_tax">Apply</button>
                        </div>
                    </div>
                    <p id="field_total_w_tip_discount_tax" class="help"></p>
                </div>

                <div id="div_cost" style="display:none;" class="field">
                    <label class="label">Enter your cost before tax to see how much you need to pay back the person who paid the bill</label>
                    <div class="field has-addons">
                        <div class="control">
                            <input id="i_cost" class="input is-primary" type="text" placeholder="e.g., 5">
                            <label id="i_cost_label" class="tag">+, -, *, / allowed</label>
                        </div>
                        <div class="control">
                            <button id="submit_cost" class="button is-primary" type="submit" py-click="calc_cost">Catculate</button>
                        </div>
                    </div>
                    <article class="message">
                        <div id="individual_cost" class="message-body" style="white-space: pre-line"></div>
                    </article>
                </div>
            </div>

        </div>

    </div>

<py-script>
from js import document

# Global variables to store the state of the calculation
total = 0
tip = 0
discount = 0
tax = 0
cost = 0
total_w_tip = 0

def safe_math_eval(string):
    """Safely evaluate a math expression from user input."""
    allowed_chars = "0123456789+-*(). /"
    if not all(char in allowed_chars for char in string):
        raise ValueError("Invalid characters in expression")
    # Using a controlled eval is okay for this simple use case.
    return eval(string, {"__builtins__": None}, {})

def calc_tips(*args, **kwargs):
    """Calculate and display suggested tip amounts."""
    global total
    total_input = document.getElementById('i_total')
    try:
        total = float(total_input.value)
    except (ValueError, TypeError):
        document.getElementById('field_tips').innerText = "Please enter a valid number for the subtotal."
        return

    tip_15_perc = total * 0.15
    tip_17_perc = total * 0.17
    tip_20_perc = total * 0.20

    log_tips = document.getElementById('field_tips')
    log_tips.innerText = f'15% tip = ${tip_15_perc:.2f}\n17% tip = ${tip_17_perc:.2f}\n20% tip = ${tip_20_perc:.2f}'

    document.getElementById('div_tip').style.display = 'block'
    document.getElementById('progress').value = 20

def calc_total_w_tip(*args, **kwargs):
    """Calculate total with tip."""
    global total, total_w_tip, tip
    tip_input = document.getElementById('i_tip')
    try:
        tip = float(tip_input.value)
    except (ValueError, TypeError):
        document.getElementById('field_total_w_tip').innerText = "Please enter a valid tip amount."
        return
    
    if total > 0:
        tip_perc = (tip / total) * 100
    else:
        tip_perc = 0
        
    total_w_tip = total + tip
    
    log_total_w_tip = document.getElementById('field_total_w_tip')
    log_total_w_tip.innerText = f'Total + tip = ${total_w_tip:.2f} ({tip_perc:.1f}% tip)'

    document.getElementById('div_discount').style.display = 'block'
    document.getElementById('progress').value = 40

def calc_total_w_tip_discount(*args, **kwargs):
    """Calculate total with tip and discount."""
    global total_w_tip, discount
    discount_input = document.getElementById('i_discount')
    try:
        discount = float(discount_input.value)
    except (ValueError, TypeError):
        document.getElementById('field_total_w_tip_discount').innerText = "Please enter a valid discount."
        return

    total_w_tip_discount = total_w_tip - discount
    log_total_w_tip_discount = document.getElementById('field_total_w_tip_discount')
    log_total_w_tip_discount.innerText = f'Total + tip - discount = ${total_w_tip_discount:.2f}'

    document.getElementById('div_tax').style.display = 'block'
    document.getElementById('progress').value = 60

def calc_total_w_tip_discount_tax(*args, **kwargs):
    """Calculate the final bill amount including tax."""
    global total, tip, discount, tax
    tax_input = document.getElementById('i_tax')
    try:
        tax = float(tax_input.value)
    except (ValueError, TypeError):
        document.getElementById('field_total_w_tip_discount_tax').innerText = "Please enter a valid tax percentage."
        return

    total_w_tip_discount_tax = (total - discount) * (tax / 100 + 1) + tip

    log_total_w_tip_discount_tax = document.getElementById('field_total_w_tip_discount_tax')
    log_total_w_tip_discount_tax.innerText = f'Grand Total = ${total_w_tip_discount_tax:.2f}'

    document.getElementById('div_cost').style.display = 'block'
    document.getElementById('progress').value = 80

def calc_cost(*args, **kwargs):
    """Calculate the individual's share of the bill."""
    global total, tip, discount, tax
    cost_input = document.getElementById('i_cost')
    try:
        cost = float(safe_math_eval(cost_input.value))
    except Exception:
        document.getElementById('individual_cost').innerText = "Please enter a valid cost or expression."
        return

    subtotal_after_discount = total - discount
    
    # Avoid division by zero errors
    if total == 0 or subtotal_after_discount <= 0:
        pay = 0
        perc_of_tip = 0
    else:
        # Calculate share of the subtotal, tax, and tip
        cost_ratio = cost / total
        pay = (cost - (discount * cost_ratio)) * (1 + tax / 100) + (tip * cost_ratio)
        perc_of_tip = cost_ratio * 100

    log_individual_cost = document.getElementById('individual_cost')
    # Use innerHTML to append and keep previous entries
    log_individual_cost.innerHTML += f'Your share for an item of ${cost:.2f} is <b>${pay:.2f}</b> (pays for {perc_of_tip:.1f}% of the tip)<br>'

    progress_bar = document.getElementById('progress')
    progress_bar.value = 100
    progress_bar.className = "progress is-success"
</py-script>
					
				</div>
			</div>
		</div>
	</div>
</div>
</div>
<script src="../js/bootstrap.bundle.min.js?8179"></script>
<script src="../js/blocs.min.js?639"></script>
<script src="../js/lazysizes.min.js" defer></script></body>
</html>
